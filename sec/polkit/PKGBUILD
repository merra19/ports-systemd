# description	: Policy framework for controlling privileges for system-wide services
# depends	: glib duktape pam gobject-introspection expat systemd

pkgname=polkit
pkgver=126
pkgrel=2
source=(https://github.com/polkit-org/polkit/archive/$pkgver/$pkgname-$pkgver.tar.gz
        $pkgname.hooks)

build() {
    cd $pkgname-$pkgver

	meson setup \
        --prefix=/usr \
        --buildtype=plain \
        -D man=true \
        -D gtk_doc=false \
        -D session_tracking=logind \
        -D tests=true \
        build
	ninja -C build
	DESTDIR="$pkgdir" ninja install -C build

    install -Dm755 "$srcdir"/$pkgname.hooks "$pkgdir"/usr/share/blfs-bootscripts/hooks/$pkgname.hooks
}