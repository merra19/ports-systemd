# description	: Binary-decimal and decimal-binary conversion routines for IEEE doubles
# depends	: glibc cmake

pkgname=double-conversion
pkgver=3.3.1
pkgrel=1
source=(https://github.com/google/double-conversion/archive/v$pkgver/$pkgname-$pkgver.tar.gz)

build() {
	cd $pkgname-$pkgver

    cmake -B build \
        -D CMAKE_INSTALL_PREFIX=/usr \
        -D BUILD_SHARED_LIBS=ON \
        -D BUILD_TESTING=ON \
        -D CMAKE_POLICY_VERSION_MINIMUM=3.5
    make -C build
    make DESTDIR="$pkgdir" install -C build
}