# description	: OpenCL C library
# depends	: spirv-llvm-translator llvm cmake

pkgname=libclc
pkgver=20.1.8
pkgrel=1
options=(!lto)
source=(https://github.com/llvm/llvm-project/releases/download/llvmorg-$pkgver/$pkgname-$pkgver.src.tar.xz)

build() {
    cd $pkgname-$pkgver.src

    cmake -B build \
        -D CMAKE_INSTALL_PREFIX=/usr \
        -D CMAKE_BUILD_TYPE=Release
    make -C build
    make DESTDIR="$pkgdir" install -C build
}