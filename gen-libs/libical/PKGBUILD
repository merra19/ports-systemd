# description	: Implementation of basic iCAL protocols
# depends	: cmake ninja gobject-introspection vala icu perl glib
# depends	: libxml2

pkgname=libical
pkgver=3.0.20
pkgrel=1
source=(https://github.com/libical/$pkgname/releases/download/v$pkgver/$pkgname-$pkgver.tar.gz)

build() {
	cd $pkgname-$pkgver

	cmake -B build \
        -D CMAKE_INSTALL_PREFIX=/usr \
		-D CMAKE_BUILD_TYPE=Release \
		-D SHARED_ONLY=yes \
		-D ICAL_BUILD_DOCS=false \
		-D GOBJECT_INTROSPECTION=true \
		-D ICAL_GLIB_VAPI=true
	make -j1 -C build 
    make DESTDIR="$pkgdir" install -C build
}