# description	: Xorg Legacy Fonts
# depends	: xorg-fonts

pkgname=xorg-legacy
pkgver=1.0.0
pkgrel=1
source=()
noextract=( 
    bdftopcf-1.1.1.tar.xz
    font-adobe-100dpi-1.0.4.tar.xz
    font-adobe-75dpi-1.0.4.tar.xz
    font-jis-misc-1.0.4.tar.xz
    font-daewoo-misc-1.0.4.tar.xz
    font-isas-misc-1.0.4.tar.xz
    font-misc-misc-1.1.3.tar.xz
    )

for listsrc in ${noextract[@]};do
    case $listsrc in
        bdftopcf*) source=(${source[@]} https://www.x.org/pub/individual/util/$listsrc) ;;
        *) source=(${source[@]} https://www.x.org/pub/individual/font/$listsrc) ;;
    esac
done

build() {
    export PATH=$PATH:"$pkgdir/usr/bin"

    for package in ${noextract[@]}
    do
        packagedir=${package%.tar.?z*}
        tar -xf $package
        cd $packagedir

        ./configure \
            --prefix=/usr \
            --sysconfdir=/etc \
            --localstatedir=/var \
            --disable-static
        make
        make DESTDIR="$pkgdir" install
        cd ..
        rm -rf $packagedir
    done  
}