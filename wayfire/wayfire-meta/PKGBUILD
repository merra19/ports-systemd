# description	: Wayfire compositor Meta
# depends	: wayfire waybar pavucontrol wofi thunar nerd-fonts
# depends	: xdg-desktop-portal wireplumber ttf-font-awesome
# depends	: xfce4-terminal polkit-gnome mako wf-shell
# depends	: xdg-desktop-portal-wlr wayfire-plugins-extra

pkgname=wayfire-meta
pkgver=0.9.0
pkgrel=1
source=(setupwayfire wayfire.ini White-Haired_Anime_Girl_in_Garden.png
        eteindre config.jsonc mediaplayer.py power_menu.xml style.css
        wf-shell.ini xdgportal.sh wf-shell.ini)

build() {
    mkdir -p "$pkgdir"/usr
    install -Dm 0755 setupwayfire "$pkgdir"/usr/local/bin/setupwayfire

    install -Dm 0644 White-Haired_Anime_Girl_in_Garden.png "$pkgdir"/usr/local/share/wayfire/backgrounds/White-Haired_Anime_Girl_in_Garden.png
    install -Dm 0644 wayfire.ini "$pkgdir"/usr/local/share/wayfire/wayfire.ini
    install -Dm 0644 wf-shell.ini "$pkgdir"/usr/local/share/wayfire/wf-shell.ini
    install -Dm 0755 eteindre "$pkgdir"/usr/local/share/wayfire/scripts/eteindre
    install -Dm 0644 config.jsonc "$pkgdir"/usr/local/share/wayfire/waybar/config.jsonc
    install -Dm 0644 mediaplayer.py "$pkgdir"/usr/local/share/wayfire/waybar/mediaplayer.py
    install -Dm 0644 power_menu.xml "$pkgdir"/usr/local/share/wayfire/waybar/power_menu.xml
    install -Dm 0644 style.css "$pkgdir"/usr/local/share/wayfire/waybar/style.css
    install -Dm 0755 xdgportal.sh "$pkgdir"/usr/local/share/wayfire/xdgportal.sh
}