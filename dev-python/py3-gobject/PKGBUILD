# description	: Python bindings for GObject Introspection
# depends	: py3-setuptools gobject-introspection glib py3-cairo

pkgname=py3-gobject
pkgver=3.52.3
pkgrel=1
source=(https://download.gnome.org/sources/pygobject/${pkgver%.*}/pygobject-$pkgver.tar.gz)

build() {
    cd pygobject-$pkgver

    # Remove two faulty tests:
    mv -v tests/test_gdbus.py{,.nouse}
    mv -v tests/test_overrides_gtk.py{,.nouse}

    meson setup \
        --prefix=/usr \
        --buildtype=plain \
        -D pycairo=enabled \
        build 
    ninja -C build
    DESTDIR="$pkgdir" ninja install -C build
}