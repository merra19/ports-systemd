# description	: A library for using 3D graphics hardware to draw pretty pictures
# depends	: gdk-pixbuf libdrm xorg-libs gobject-introspection pango
# depends	: mesa wayland

pkgname=cogl
pkgver=1.22.8
pkgrel=1
source=(https://download.gnome.org/sources/$pkgname/${pkgver%.*}/$pkgname-$pkgver.tar.xz)

build() {
    cd $pkgname-$pkgver

    export CFLAGS="$CFLAGS -std=gnu17"

    ./configure \
        --prefix=/usr \
        --disable-static \
        --disable-gles1 \
        --enable-gles2 \
        --enable-{kms,wayland,xlib}-egl-platform \
        --enable-wayland-egl-server 
    make
    make DESTDIR="$pkgdir" install
}