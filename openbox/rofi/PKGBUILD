# description	: A window switcher, run dialog and dmenu replacement
# depends	: bison flex pkgconf glib cairo gdk-pixbuf libxcb pango
# depends	: libxkbcommon startup-notification xcb-util xcb-utilities
# depends	: xkeyboard-config xorg-proto

pkgname=rofi
pkgver=2.0.0
pkgrel=1
source=(https://github.com/davatorium/rofi/releases/download/$pkgver/$pkgname-$pkgver.tar.xz
        fix_xfce4-terminal_binary_name.patch)

build() {
    cd $pkgname-$pkgver

    patch -Np1 -i ../fix_xfce4-terminal_binary_name.patch

    meson setup \
        --prefix=/usr \
        --buildtype=plain \
        -D drun=true \
        -D window=true \
        -D imdkit=false \
        build
    ninja -C build
    DESTDIR="$pkgdir" ninja install -C build
}
